# Tmux configuration for multiple Claude Code sessions
# Norwegian Mac keyboard friendly

# Change prefix to Ctrl-a (easier than Ctrl-b)
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Enable mouse support (click to select panes, drag to resize)
set -g mouse on

# Start window numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Increase scrollback buffer
set -g history-limit 50000

# Faster key repetition
set -s escape-time 0

# Pane splitting - Norwegian keyboard friendly
# Use - for horizontal split (easy key)
# Use v for vertical split (avoids | which is Option+7)
bind - split-window -v -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"
unbind '"'
unbind %

# Navigate panes with Alt+arrow (no prefix needed)
# Works well on Norwegian Mac keyboards
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Navigate panes with prefix + hjkl (vim style)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes with prefix + HJKL
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Quick layouts for Claude Code sessions
# prefix + 1-4 for different layouts
bind 1 select-layout even-horizontal
bind 2 select-layout even-vertical
bind 3 select-layout main-horizontal
bind 4 select-layout main-vertical

# Synchronize panes toggle (type in all panes at once)
bind S setw synchronize-panes

# Quick reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Kill pane without confirmation
bind x kill-pane

# Create new window in current path
bind c new-window -c "#{pane_current_path}"

# Status bar styling
set -g status-style 'bg=#333333 fg=#ffffff'
set -g status-left '[#S] '
set -g status-right '%H:%M '
set -g status-left-length 20

# Pane border styling
set -g pane-border-style 'fg=#555555'
set -g pane-active-border-style 'fg=#00aaff'

# Show pane titles in border
set -g pane-border-status top
set -g pane-border-format ' #{pane_index}: #{pane_title} '

# Set pane title with prefix + t
bind t command-prompt -p "Pane title:" "select-pane -T '%%'"

# Automatic title from current command (fallback)
set -g automatic-rename on
setw -g automatic-rename-format '#{pane_current_command}'

# Window status styling
setw -g window-status-current-style 'fg=#00aaff bold'

# Increase display time for messages
set -g display-time 2000

# 256 color support
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
